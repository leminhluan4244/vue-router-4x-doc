import{_ as s,N as t,o as p,p as o,H as e,v as n,r as c,W as l}from"./plugin-vue_export-helper.463a469f.js";const _='{"title":"\u8FC7\u6E21\u52A8\u6548","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5355\u4E2A\u8DEF\u7531\u7684\u8FC7\u6E21","slug":"\u5355\u4E2A\u8DEF\u7531\u7684\u8FC7\u6E21"},{"level":2,"title":"\u57FA\u4E8E\u8DEF\u7531\u7684\u52A8\u6001\u8FC7\u6E21","slug":"\u57FA\u4E8E\u8DEF\u7531\u7684\u52A8\u6001\u8FC7\u6E21"},{"level":2,"title":"\u5F3A\u5236\u5728\u590D\u7528\u7684\u89C6\u56FE\u4E4B\u95F4\u8FDB\u884C\u8FC7\u6E21","slug":"\u5F3A\u5236\u5728\u590D\u7528\u7684\u89C6\u56FE\u4E4B\u95F4\u8FDB\u884C\u8FC7\u6E21"}],"relativePath":"zh/guide/advanced/transitions.md","lastUpdated":1665388136111}',u={},r=n("h1",{id:"\u8FC7\u6E21\u52A8\u6548",tabindex:"-1"},[c("\u8FC7\u6E21\u52A8\u6548 "),n("a",{class:"header-anchor",href:"#\u8FC7\u6E21\u52A8\u6548","aria-hidden":"true"},"#")],-1),i=l(`<p>\u60F3\u8981\u5728\u4F60\u7684\u8DEF\u5F84\u7EC4\u4EF6\u4E0A\u4F7F\u7528\u8F6C\u573A\uFF0C\u5E76\u5BF9\u5BFC\u822A\u8FDB\u884C\u52A8\u753B\u5904\u7406\uFF0C\u4F60\u9700\u8981\u4F7F\u7528 <a href="./../../api/#router-view-s-v-slot">v-slot API</a>\uFF1A</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ Component }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fade<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Component<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><a href="https://v3.vuejs.org/guide/transitions-enterleave.html" target="_blank" rel="noopener noreferrer">Transition \u7684 API</a> \u5728\u8FD9\u91CC\u540C\u6837\u9002\u7528\u3002</p><h2 id="\u5355\u4E2A\u8DEF\u7531\u7684\u8FC7\u6E21" tabindex="-1">\u5355\u4E2A\u8DEF\u7531\u7684\u8FC7\u6E21 <a class="header-anchor" href="#\u5355\u4E2A\u8DEF\u7531\u7684\u8FC7\u6E21" aria-hidden="true">#</a></h2><p>\u4E0A\u9762\u7684\u7528\u6CD5\u4F1A\u5BF9\u6240\u6709\u7684\u8DEF\u7531\u4F7F\u7528\u76F8\u540C\u7684\u8FC7\u6E21\u3002\u5982\u679C\u4F60\u60F3\u8BA9\u6BCF\u4E2A\u8DEF\u7531\u7684\u7EC4\u4EF6\u6709\u4E0D\u540C\u7684\u8FC7\u6E21\uFF0C\u4F60\u53EF\u4EE5\u5C06<a href="./meta.html">\u5143\u4FE1\u606F</a>\u548C\u52A8\u6001\u7684 <code>name</code> \u7ED3\u5408\u5728\u4E00\u8D77\uFF0C\u653E\u5728<code>&lt;transition&gt;</code> \u4E0A\uFF1A</p><div class="language-js"><pre><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/custom-transition&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> PanelLeft<span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token string">&#39;slide-left&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/other-transition&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> PanelRight<span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token string">&#39;slide-right&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ Component, route }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u4F7F\u7528\u4EFB\u4F55\u81EA\u5B9A\u4E49\u8FC7\u6E21\u548C\u56DE\u9000\u5230 \`fade\` --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>route.meta.transition || <span class="token punctuation">&#39;</span>fade<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Component<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="\u57FA\u4E8E\u8DEF\u7531\u7684\u52A8\u6001\u8FC7\u6E21" tabindex="-1">\u57FA\u4E8E\u8DEF\u7531\u7684\u52A8\u6001\u8FC7\u6E21 <a class="header-anchor" href="#\u57FA\u4E8E\u8DEF\u7531\u7684\u52A8\u6001\u8FC7\u6E21" aria-hidden="true">#</a></h2><p>\u4E5F\u53EF\u4EE5\u6839\u636E\u76EE\u6807\u8DEF\u7531\u548C\u5F53\u524D\u8DEF\u7531\u4E4B\u95F4\u7684\u5173\u7CFB\uFF0C\u52A8\u6001\u5730\u786E\u5B9A\u4F7F\u7528\u7684\u8FC7\u6E21\u3002\u4F7F\u7528\u548C\u521A\u624D\u975E\u5E38\u76F8\u4F3C\u7684\u7247\u6BB5\uFF1A</p><div class="language-html"><pre><code><span class="token comment">&lt;!-- \u4F7F\u7528\u52A8\u6001\u8FC7\u6E21\u540D\u79F0 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ Component, route }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>route.meta.transition<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Component<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>\u6211\u4EEC\u53EF\u4EE5\u6DFB\u52A0\u4E00\u4E2A <a href="./navigation-guards.html#\u5168\u5C40\u540E\u7F6E\u94A9\u5B50">after navigation hook</a>\uFF0C\u6839\u636E\u8DEF\u5F84\u7684\u6DF1\u5EA6\u52A8\u6001\u6DFB\u52A0\u4FE1\u606F\u5230 <code>meta</code> \u5B57\u6BB5\u3002</p><div class="language-js"><pre><code>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> toDepth <span class="token operator">=</span> to<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length
  <span class="token keyword">const</span> fromDepth <span class="token operator">=</span> from<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length
  to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>transitionName <span class="token operator">=</span> toDepth <span class="token operator">&lt;</span> fromDepth <span class="token operator">?</span> <span class="token string">&#39;slide-right&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;slide-left&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="\u5F3A\u5236\u5728\u590D\u7528\u7684\u89C6\u56FE\u4E4B\u95F4\u8FDB\u884C\u8FC7\u6E21" tabindex="-1">\u5F3A\u5236\u5728\u590D\u7528\u7684\u89C6\u56FE\u4E4B\u95F4\u8FDB\u884C\u8FC7\u6E21 <a class="header-anchor" href="#\u5F3A\u5236\u5728\u590D\u7528\u7684\u89C6\u56FE\u4E4B\u95F4\u8FDB\u884C\u8FC7\u6E21" aria-hidden="true">#</a></h2><p>Vue \u53EF\u80FD\u4F1A\u81EA\u52A8\u590D\u7528\u770B\u8D77\u6765\u76F8\u4F3C\u7684\u7EC4\u4EF6\uFF0C\u4ECE\u800C\u5FFD\u7565\u4E86\u4EFB\u4F55\u8FC7\u6E21\u3002\u5E78\u8FD0\u7684\u662F\uFF0C\u53EF\u4EE5<a href="https://v3.vuejs.org/api/special-attributes.html#key" target="_blank" rel="noopener noreferrer">\u6DFB\u52A0\u4E00\u4E2A <code>key</code> \u5C5E\u6027</a>\u6765\u5F3A\u5236\u8FC7\u6E21\u3002\u8FD9\u4E5F\u5141\u8BB8\u4F60\u5728\u76F8\u540C\u8DEF\u7531\u4E0A\u4F7F\u7528\u4E0D\u540C\u7684\u53C2\u6570\u89E6\u53D1\u8FC7\u6E21\uFF1A</p><div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ Component, route }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fade<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Component<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>route.path<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>`,15);function k(g,d,h,m,v,q){const a=t("VueSchoolLink");return p(),o("div",null,[r,e(a,{href:"https://vueschool.io/lessons/route-transitions",title:"Learn about route transitions"}),i])}var y=s(u,[["render",k]]);export{_ as __pageData,y as default};
