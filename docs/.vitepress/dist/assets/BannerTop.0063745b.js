import{n as I,M as H,_ as b,N as h,o as i,y as m,P as p,X as w,p as d,G as k,v as n,t as E,q as u,F as B,r as O,Y as T,z as M,E as R}from"./plugin-vue_export-helper.463a469f.js";import{w as x}from"./app.5140d3ee.js";import"./sponsors.2c54181e.js";/*! vue-countdown v2.0.0 | (c) 2018-present Chen Fengyuan | MIT */const v=1e3,y=60*v,g=60*y,C=24*g,V="abort",L="end",S="progress",D="start",N="visibilitychange";var F=I({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[V,L,S,D],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/C)},hours(){return Math.floor(this.totalMilliseconds%C/g)},minutes(){return Math.floor(this.totalMilliseconds%g/y)},seconds(){return Math.floor(this.totalMilliseconds%y/v)},milliseconds(){return Math.floor(this.totalMilliseconds%v)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/g)},totalMinutes(){return Math.floor(this.totalMilliseconds/y)},totalSeconds(){return Math.floor(this.totalMilliseconds/v)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(N,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(N,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.emitEvents&&this.$emit(D),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let a,e;const l=r=>{a||(a=r),e||(e=r);const s=r-a;s>=t||s+(r-e)/2>=t?this.progress():this.requestId=requestAnimationFrame(l),e=r};this.requestId=requestAnimationFrame(l)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){!this.counting||(this.totalMilliseconds-=this.interval,this.emitEvents&&this.totalMilliseconds>0&&this.$emit(S,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){!this.counting||(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(V))},end(){!this.counting||(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit(L))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return H(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const P={components:{VueCountdown:F},props:{remaining:{type:Number,default:0},color:{type:String,default:"#ff2556"},background:{type:String,default:"rgba(255, 37, 86, 0.25)"},countdownTransformDaysToHours:{type:Function,required:!0}}},A={class:"vs-countdown-number"},W={class:"vs-countdown-text"},q={key:0,class:"vs-countdown-colon"};function G(t,a,e,l,r,s){const _=h("VueCountdown"),f=h("ClientOnly");return i(),m(f,null,{default:p(()=>[e.remaining&&e.remaining>0?(i(),m(_,{key:0,time:e.remaining,transform:e.countdownTransformDaysToHours,class:"vs-countdown-wrapper",style:w({color:e.color})},{default:p(c=>[(i(!0),d(B,null,k(["days","hours","minutes","seconds"].filter(o=>o!=="days"||c[o]!=="00"),o=>(i(),d("div",{key:o,class:"vs-countdown-item"},[n("div",{class:"vs-countdown-part",style:w({background:e.background})},[n("div",A,E(c[o]),1),n("div",W,E(o),1)],4),o!=="seconds"?(i(),d("div",q," : ")):u("",!0)]))),128))]),_:1},8,["time","transform","style"])):u("",!0)]),_:1})}var U=b(P,[["render",G]]);const K={components:{VueCountdown:F},props:{remaining:{type:Number,default:0},color:{type:String,default:"#ff2556"},countdownTransformDaysToHours:{type:Function,required:!0}}},z={key:0};function Y(t,a,e,l,r,s){const _=h("VueCountdown"),f=h("ClientOnly");return i(),m(f,null,{default:p(()=>[e.remaining&&e.remaining>0?(i(),m(_,{key:0,time:e.remaining,transform:e.countdownTransformDaysToHours,class:"vs-countdown-mobile-wrapper",style:w({color:e.color})},{default:p(c=>[(i(),d(B,null,k(["days","hours","minutes","seconds"],o=>n("span",{key:o},[O(E(c[o])+E(o[0].toLowerCase())+" ",1),o!=="seconds"?(i(),d("span",z," : ")):u("",!0)])),64))]),_:1},8,["time","transform","style"])):u("",!0)]),_:1})}var $=b(K,[["render",Y]]);const j=[{banner:{assets:"FREE_WEEKEND",cta:"JOIN FOR FREE",link:"/free-weekend",static:"FREE_WEEKEND",subtitle:"Get Access to ALL Vue School premium courses",title:"Free Weekend 1st & 2nd of October"},ends:"2022-09-30T23:59:59+02:00",hasCountdown:!1,id:"FREE_WEEKEND_LOBBY",isExtended:!1},{banner:{assets:"FREE_WEEKEND",cta:"WATCH FOR FREE",link:"/free-weekend",static:"FREE_WEEKEND_LIVE",subtitle:"Get Access to ALL Vue School premium courses",title:"Free Weekend <strong>NOW LIVE</strong>"},ends:"2022-10-02T23:59:59+02:00",hasCountdown:!1,id:"FREE_WEEKEND_LIVE",isExtended:!1},{banner:{assets:"LEVELUP2022",cta:"GET OFFER",link:"/sales/levelup2022",static:"LEVELUP2022",subtitle:"Access 800+ lessons including the Vue.js 3 Masterclass",title:"<strong>Get 45%</strong> off at Vue School today"},ends:"2022-10-04T23:59:59+02:00",hasCountdown:!0,id:"LEVELUP2022",isExtended:!1},{banner:{assets:"LEVELUP2022",cta:"GET OFFER",link:"/sales/levelup2022",static:"LEVELUP2022",subtitle:"Extended! Access 800+ lessons including the Vue.js 3 Masterclass",title:"<strong>Get 45%</strong> off at Vue School today"},ends:"2022-10-06T23:59:59+02:00",hasCountdown:!0,id:"LEVELUP2022_EXTENDED",isExtended:!0}],X={components:{BannerTopCountdown:U,BannerTopCountdownMobile:$},data(){const t=new Date;return{isVisible:!1,now:t}},computed:{phases(){return j.map(t=>({...t,remaining:new Date(t.ends)-this.now}))},activePhase(){return this.phases.find(t=>t.remaining>0)},activeBanner(){return this.activePhase.banner}},mounted(){this.isVisible=!localStorage.getItem("VS_FREE_WEEKEND")&&Boolean(this.activePhase),this.isVisible&&document.body.classList.add("has-top-banner")},methods:{countdownTransformDaysToHours(t){return t.days&&(t.hours=t.hours+t.days*24,t.days=0),Object.entries(t).forEach(([a,e])=>{const l=e<10?`0${e}`:e;t[a]=l}),t},close(){this.isVisible=!1,document.body.classList.remove("has-top-banner"),localStorage.setItem("VS_FREE_WEEKEND",1)}}},J=["href"],Q={class:"vs-background-wrapper"},Z=n("div",{class:"vs-logo"},null,-1),tt={class:"vs-core"},et={class:"vs-slogan-wrapper"},st=["innerHTML"],nt=["innerHTML"],ot={class:"vs-button-wrapper"},it={class:"vs-button"},at=n("img",{src:"https://vueschool.io/images/close.svg",alt:"Close"},null,-1),rt=[at];function lt(t,a,e,l,r,s){const _=h("BannerTopCountdownMobile"),f=h("BannerTopCountdown");return r.isVisible?(i(),d("a",{key:0,id:"vs-top",href:`https://vueschool.io${s.activeBanner.link}?friend=vuerouter&utm_source=vuerouter&utm_medium=website&utm_campaign=affiliate&utm_content=top_banner`,class:R(s.activeBanner.assets)},[n("div",Q,[Z,n("div",tt,[n("div",et,[n("div",{class:"vs-slogan",innerHTML:s.activeBanner.title},null,8,st),n("div",{class:"vs-subline",innerHTML:s.activeBanner.subtitle},null,8,nt),s.activePhase.hasCountdown?(i(),m(_,T(M({key:0},{remaining:s.activePhase.remaining,countdownTransformDaysToHours:s.countdownTransformDaysToHours})),null,16)):u("",!0)]),s.activePhase.hasCountdown?(i(),m(f,T(M({key:0},{remaining:s.activePhase.remaining,countdownTransformDaysToHours:s.countdownTransformDaysToHours})),null,16)):u("",!0),n("div",ot,[n("div",it,E(s.activeBanner.cta),1)])]),n("div",{class:"vs-close",onClick:a[0]||(a[0]=x((...c)=>s.close&&s.close(...c),["prevent","stop"]))},rt)])],10,J)):u("",!0)}var ht=b(X,[["render",lt]]);export{ht as default};
