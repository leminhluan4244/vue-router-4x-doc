<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Waiting for the result of a Navigation | Vue Router</title>
    <meta name="description" content="The official router for Vue.js.">
    <link rel="stylesheet" href="/assets/style.e3872e06.css">
    <link rel="modulepreload" href="/assets/plugin-vue_export-helper.463a469f.js">
    <link rel="modulepreload" href="/assets/sponsors.2c54181e.js">
    <link rel="modulepreload" href="/assets/Home.9be00b3c.js">
    <link rel="modulepreload" href="/assets/ui-custom.065b615a.js">
    <link rel="modulepreload" href="/assets/ui-custom.d8a35895.js">
    <link rel="modulepreload" href="/assets/AlgoliaSearchBox.c784255c.js">
    <link rel="modulepreload" href="/assets/BannerTop.0063745b.js">
    <link rel="modulepreload" href="/assets/guide_advanced_navigation-failures.md.88fe2254.lean.js">
    <link rel="modulepreload" href="/assets/app.5140d3ee.js">
    
    <link rel="icon" href="/logo.png">
  <meta name="wwads-cn-verify" content="7e7757b1e12abcb736ab9a754ffb617a">
  <script src="https://unpkg.com/thesemetrics@latest" async=""></script>
  <meta name="twitter:title" content="Waiting for the result of a Navigation | Vue Router">
  <meta property="og:title" content="Waiting for the result of a Navigation | Vue Router">
  </head>
  <body>
    <div id="app"><div class="main-container" data-v-1c1f0d0c><!----><!--[--><div class="theme"><header class="nav-bar" data-v-7d394b77><div class="sidebar-button" data-v-7d394b77><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Vue Router, back to home" data-v-7d394b77 data-v-43a50e3f><!----> Vue Router</a><div class="flex-grow" data-v-7d394b77></div><div class="nav" data-v-7d394b77><nav class="nav-links" data-v-7d394b77 data-v-05266ec2><!--[--><div class="item" data-v-05266ec2><div class="nav-link" data-v-05266ec2 data-v-7ad94a48><a class="item active" href="/guide/" data-v-7ad94a48>Guide <!----></a></div></div><div class="item" data-v-05266ec2><div class="nav-link" data-v-05266ec2 data-v-7ad94a48><a class="item" href="/api/" data-v-7ad94a48>API Reference <!----></a></div></div><div class="item" data-v-05266ec2><div class="nav-dropdown-link" data-v-05266ec2 data-v-8faeff3e><button class="button" data-v-8faeff3e><span class="button-text" data-v-8faeff3e>v4.x</span><span class="right button-arrow" data-v-8faeff3e></span></button><ul class="dialog" data-v-8faeff3e><!--[--><li class="dialog-item" data-v-8faeff3e><div class="nav-dropdown-link-item" data-v-8faeff3e data-v-6e4ca1da><a class="item isExternal" href="https://v3.router.vuejs.org" target="_blank" rel="noopener noreferrer" data-v-6e4ca1da><span class="arrow" data-v-6e4ca1da></span><span class="text" data-v-6e4ca1da>v3.x</span><span class="icon" data-v-6e4ca1da><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-6e4ca1da><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-05266ec2><div class="nav-link" data-v-05266ec2 data-v-7ad94a48><a class="item isExternal" href="https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md" target="_blank" rel="noopener noreferrer" data-v-7ad94a48>Changelog <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-7ad94a48><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><div class="item" data-v-05266ec2><div class="nav-dropdown-link" data-v-05266ec2 data-v-8faeff3e><button class="button" data-v-8faeff3e><span class="button-text" data-v-8faeff3e>Languages</span><span class="right button-arrow" data-v-8faeff3e></span></button><ul class="dialog" data-v-8faeff3e><!--[--><li class="dialog-item" data-v-8faeff3e><div class="nav-dropdown-link-item" data-v-8faeff3e data-v-6e4ca1da><a class="item active" href="/guide/advanced/navigation-failures.html" data-v-6e4ca1da><span class="arrow" data-v-6e4ca1da></span><span class="text" data-v-6e4ca1da>English</span><span class="icon" data-v-6e4ca1da><!----></span></a></div></li><li class="dialog-item" data-v-8faeff3e><div class="nav-dropdown-link-item" data-v-8faeff3e data-v-6e4ca1da><a class="item" href="/zh/guide/advanced/navigation-failures.html" data-v-6e4ca1da><span class="arrow" data-v-6e4ca1da></span><span class="text" data-v-6e4ca1da>中文</span><span class="icon" data-v-6e4ca1da><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-05266ec2><div class="nav-link" data-v-05266ec2 data-v-7ad94a48><a class="item isExternal" href="https://github.com/vuejs/router" target="_blank" rel="noopener noreferrer" data-v-7ad94a48>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-7ad94a48><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-00b03b24><nav class="nav-links nav" data-v-00b03b24 data-v-05266ec2><!--[--><div class="item" data-v-05266ec2><div class="nav-link" data-v-05266ec2 data-v-7ad94a48><a class="item active" href="/guide/" data-v-7ad94a48>Guide <!----></a></div></div><div class="item" data-v-05266ec2><div class="nav-link" data-v-05266ec2 data-v-7ad94a48><a class="item" href="/api/" data-v-7ad94a48>API Reference <!----></a></div></div><div class="item" data-v-05266ec2><div class="nav-dropdown-link" data-v-05266ec2 data-v-8faeff3e><button class="button" data-v-8faeff3e><span class="button-text" data-v-8faeff3e>v4.x</span><span class="right button-arrow" data-v-8faeff3e></span></button><ul class="dialog" data-v-8faeff3e><!--[--><li class="dialog-item" data-v-8faeff3e><div class="nav-dropdown-link-item" data-v-8faeff3e data-v-6e4ca1da><a class="item isExternal" href="https://v3.router.vuejs.org" target="_blank" rel="noopener noreferrer" data-v-6e4ca1da><span class="arrow" data-v-6e4ca1da></span><span class="text" data-v-6e4ca1da>v3.x</span><span class="icon" data-v-6e4ca1da><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-6e4ca1da><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-05266ec2><div class="nav-link" data-v-05266ec2 data-v-7ad94a48><a class="item isExternal" href="https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md" target="_blank" rel="noopener noreferrer" data-v-7ad94a48>Changelog <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-7ad94a48><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><div class="item" data-v-05266ec2><div class="nav-dropdown-link" data-v-05266ec2 data-v-8faeff3e><button class="button" data-v-8faeff3e><span class="button-text" data-v-8faeff3e>Languages</span><span class="right button-arrow" data-v-8faeff3e></span></button><ul class="dialog" data-v-8faeff3e><!--[--><li class="dialog-item" data-v-8faeff3e><div class="nav-dropdown-link-item" data-v-8faeff3e data-v-6e4ca1da><a class="item active" href="/guide/advanced/navigation-failures.html" data-v-6e4ca1da><span class="arrow" data-v-6e4ca1da></span><span class="text" data-v-6e4ca1da>English</span><span class="icon" data-v-6e4ca1da><!----></span></a></div></li><li class="dialog-item" data-v-8faeff3e><div class="nav-dropdown-link-item" data-v-8faeff3e data-v-6e4ca1da><a class="item" href="/zh/guide/advanced/navigation-failures.html" data-v-6e4ca1da><span class="arrow" data-v-6e4ca1da></span><span class="text" data-v-6e4ca1da>中文</span><span class="icon" data-v-6e4ca1da><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-05266ec2><div class="nav-link" data-v-05266ec2 data-v-7ad94a48><a class="item isExternal" href="https://github.com/vuejs/router" target="_blank" rel="noopener noreferrer" data-v-7ad94a48>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-7ad94a48><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--[--><div class="sponsors sponsors-top" data-v-1c1f0d0c><span data-v-1c1f0d0c>Platinum Sponsors</span><!--[--><a href="https://vuetoronto.com/?utm_source=vuerouter&amp;utm_campaign=sponsor" target="_blank" rel="noopener" data-v-1c1f0d0c><img src="/sponsors/vuetoronto.svg" alt="VueConf Toronto" data-v-1c1f0d0c></a><!--]--></div><!--]--><!--]--><ul class="sidebar-links" data-v-00b03b24><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/introduction.html">Introduction</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/installation.html">Installation</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">Essentials</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/">Getting Started</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/essentials/dynamic-matching.html">Dynamic Route Matching</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/essentials/route-matching-syntax.html">Routes&#39; Matching Syntax</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/essentials/nested-routes.html">Nested Routes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/essentials/navigation.html">Programmatic Navigation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/essentials/named-routes.html">Named Routes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/essentials/named-views.html">Named Views</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/essentials/redirect-and-alias.html">Redirect and Alias</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/essentials/passing-props.html">Passing Props to Route Components</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/essentials/history-mode.html">Different History modes</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Advanced</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/navigation-guards.html">Navigation guards</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/meta.html">Route Meta Fields</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/data-fetching.html">Data Fetching</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/composition-api.html">Composition API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/transitions.html">Transitions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/scroll-behavior.html">Scroll Behavior</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/lazy-loading.html">Lazy Loading Routes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/typed-routes.html">Typed Routes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/extending-router-link.html">Extending RouterLink</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/guide/advanced/navigation-failures.html">Navigation Failures</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#detecting-navigation-failures">Detecting Navigation Failures</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#differentiating-navigation-failures">Differentiating Navigation Failures</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#navigation-failures-s-properties">Navigation Failures&#39;s properties</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#detecting-redirections">Detecting Redirections</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/advanced/dynamic-routing.html">Dynamic Routing</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/migration/index.html">Migrating from Vue 2</a><!----></li><!--]--></ul><!--[--><!--[--><div class="sponsors" data-v-1c1f0d0c><span data-v-1c1f0d0c>Sponsors</span><!--[--><a href="https://vuejobs.com/?utm_source=vuerouter&amp;utm_campaign=sponsor" target="_blank" rel="noopener" data-v-1c1f0d0c><img src="https://posva-sponsors.pages.dev/logos/vuejobs.svg" alt="VueJobs" data-v-1c1f0d0c></a><!--]--></div><!--]--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-6d8014e6><div class="container" data-v-6d8014e6><!--[--><!--[--><div id="ads-container"><div class="carbon-ads" data-v-aa7540f4></div></div><!--]--><!--[--><!--]--><!--]--><div style="position:relative;" class="content" data-v-6d8014e6><div><h1 id="waiting-for-the-result-of-a-navigation" tabindex="-1">Waiting for the result of a Navigation <a class="header-anchor" href="#waiting-for-the-result-of-a-navigation" aria-hidden="true">#</a></h1><div class="vueschool" data-v-54d456df><a href="https://vueschool.io/lessons/vue-router-4-detecting-navigation-failures?friend=vuerouter" target="_blank" rel="sponsored noopener" title="Learn how to detect navigation failures" data-v-54d456df><!--[-->Watch a free video lesson on Vue School<!--]--></a></div><p>When using <code>router-link</code>, Vue Router calls <code>router.push</code> to trigger a navigation. While the expected behavior for most links is to navigate a user to a new page, there are a few situations where users will remain on the same page:</p><ul><li>Users are already on the page that they are trying to navigate to.</li><li>A <a href="./navigation-guards.html">navigation guard</a> aborts the navigation by doing <code>return false</code>.</li><li>A new navigation guard takes place while the previous one not finished.</li><li>A <a href="./navigation-guards.html">navigation guard</a> redirects somewhere else by returning a new location (e.g. <code>return &#39;/login&#39;</code>).</li><li>A <a href="./navigation-guards.html">navigation guard</a> throws an <code>Error</code>.</li></ul><p>If we want to do something after a navigation is finished, we need a way to wait after calling <code>router.push</code>. Imagine we have a mobile menu that allows us to go to different pages and we only want to hide the menu once we have navigated to the new page, we might want to do something like this:</p><div class="language-js"><pre><code>router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/my-profile&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>isMenuOpen <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre></div><p>But this will close the menu right away because <strong>navigations are asynchronous</strong>, we need to <code>await</code> the promise returned by <code>router.push</code>:</p><div class="language-js"><pre><code><span class="token keyword">await</span> router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/my-profile&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>isMenuOpen <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre></div><p>Now the menu will close once the navigation is finished but it will also close if the navigation was prevented. We need a way to detect if we actually changed the page we are on or not.</p><h2 id="detecting-navigation-failures" tabindex="-1">Detecting Navigation Failures <a class="header-anchor" href="#detecting-navigation-failures" aria-hidden="true">#</a></h2><p>If a navigation is prevented, resulting in the user staying on the same page, the resolved value of the <code>Promise</code> returned by <code>router.push</code> will be a <em>Navigation Failure</em>. Otherwise, it will be a <em>falsy</em> value (usually <code>undefined</code>). This allows us to differentiate the case where we navigated away from where we are or not:</p><div class="language-js"><pre><code><span class="token keyword">const</span> navigationResult <span class="token operator">=</span> <span class="token keyword">await</span> router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/my-profile&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>navigationResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// navigation prevented</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// navigation succeeded (this includes the case of a redirection)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>isMenuOpen <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>Navigation Failures</em> are <code>Error</code> instances with a few extra properties that gives us enough information to know what navigation was prevented and why. To check the nature of a navigation result, use the <code>isNavigationFailure</code> function:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> NavigationFailureType<span class="token punctuation">,</span> isNavigationFailure <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>

<span class="token comment">// trying to leave the editing page of an article without saving</span>
<span class="token keyword">const</span> failure <span class="token operator">=</span> <span class="token keyword">await</span> router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/articles/2&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNavigationFailure</span><span class="token punctuation">(</span>failure<span class="token punctuation">,</span> NavigationFailureType<span class="token punctuation">.</span>aborted<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// show a small notification to the user</span>
  <span class="token function">showToast</span><span class="token punctuation">(</span><span class="token string">&#39;You have unsaved changes, discard and leave anyway?&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you omit the second parameter: <code>isNavigationFailure(failure)</code>, it will only check if <code>failure</code> is a <em>Navigation Failure</em>.</p></div><h2 id="differentiating-navigation-failures" tabindex="-1">Differentiating Navigation Failures <a class="header-anchor" href="#differentiating-navigation-failures" aria-hidden="true">#</a></h2><p>As we said at the beginning, there are different situations aborting a navigation, all of them resulting in different <em>Navigation Failures</em>. They can be differentiated using the <code>isNavigationFailure</code> and <code>NavigationFailureType</code>. There are three different types:</p><ul><li><code>aborted</code>: <code>false</code> was returned inside of a navigation guard to the navigation.</li><li><code>cancelled</code>: A new navigation took place before the current navigation could finish. e.g. <code>router.push</code> was called while waiting inside of a navigation guard.</li><li><code>duplicated</code>: The navigation was prevented because we are already at the target location.</li></ul><h2 id="navigation-failures-s-properties" tabindex="-1"><em>Navigation Failures</em>&#39;s properties <a class="header-anchor" href="#navigation-failures-s-properties" aria-hidden="true">#</a></h2><p>All navigation failures expose <code>to</code> and <code>from</code> properties to reflect the current location as well as the target location for the navigation that failed:</p><div class="language-js"><pre><code><span class="token comment">// trying to access the admin page</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/admin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">failure</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNavigationFailure</span><span class="token punctuation">(</span>failure<span class="token punctuation">,</span> NavigationFailureType<span class="token punctuation">.</span>redirected<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    failure<span class="token punctuation">.</span>to<span class="token punctuation">.</span>path <span class="token comment">// &#39;/admin&#39;</span>
    failure<span class="token punctuation">.</span>from<span class="token punctuation">.</span>path <span class="token comment">// &#39;/&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>In all cases, <code>to</code> and <code>from</code> are normalized route locations.</p><h2 id="detecting-redirections" tabindex="-1">Detecting Redirections <a class="header-anchor" href="#detecting-redirections" aria-hidden="true">#</a></h2><p>When returning a new location inside of a Navigation Guard, we are triggering a new navigation that overrides the ongoing one. Differently from other return values, a redirection doesn&#39;t prevent a navigation, <strong>it creates a new one</strong>. It is therefore checked differently, by reading the <code>redirectedFrom</code> property in a Route Location:</p><div class="language-js"><pre><code><span class="token keyword">await</span> router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/my-profile&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>router<span class="token punctuation">.</span>currentRoute<span class="token punctuation">.</span>value<span class="token punctuation">.</span>redirectedFrom<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// redirectedFrom is resolved route location like to and from in navigation guards</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div><footer class="page-footer" data-v-6d8014e6 data-v-a235b382><div class="edit" data-v-a235b382><div class="edit-link" data-v-a235b382 data-v-c4140612><a class="link" href="https://github.com/vuejs/router/edit/main/packages/docs/guide/advanced/navigation-failures.md" target="_blank" rel="noopener noreferrer" data-v-c4140612>Suggest changes to this page <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-c4140612><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-a235b382><!----></div></footer><div class="next-and-prev-link" data-v-6d8014e6 data-v-eeb5e006><div class="container" data-v-eeb5e006><div class="prev" data-v-eeb5e006><a class="link" href="/guide/advanced/extending-router-link" data-v-eeb5e006><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-eeb5e006><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-eeb5e006>Extending RouterLink</span></a></div><div class="next" data-v-eeb5e006><a class="link" href="/guide/advanced/dynamic-routing" data-v-eeb5e006><span class="text" data-v-eeb5e006>Dynamic Routing</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-eeb5e006><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--[--><!--]--><!--[--><div class="buy-sell-ads" data-v-69e68a8e><div class="bsa-cpc" data-v-69e68a8e></div></div><!--]--><!--]--></div></main></div><!----><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"api_enums_navigationfailuretype.md\":\"6bae5b8b\",\"api_index.md\":\"694db9de\",\"api_interfaces_historystate.md\":\"13249030\",\"api_interfaces_navigationfailure.md\":\"aa01238b\",\"api_interfaces_navigationguard.md\":\"46bd1042\",\"api_interfaces_navigationguardnext.md\":\"9c0705f0\",\"api_interfaces_navigationguardwiththis.md\":\"fe4d894b\",\"api_interfaces_navigationhookafter.md\":\"fcaa5b5e\",\"api_interfaces_routelocation.md\":\"7c7cc491\",\"api_interfaces_routelocationmatched.md\":\"14ab9662\",\"api_interfaces_routelocationnormalized.md\":\"a6f92f8c\",\"api_interfaces_routelocationnormalizedloaded.md\":\"51feb6df\",\"api_interfaces_routelocationoptions.md\":\"b7cb4520\",\"api_interfaces_routemeta.md\":\"29608d0e\",\"api_interfaces_routerecordnormalized.md\":\"033a2b37\",\"api_interfaces_router.md\":\"22e03a25\",\"api_interfaces_routerhistory.md\":\"8ee9ee51\",\"api_interfaces_routerlinkprops.md\":\"bea06a4b\",\"api_interfaces_routeroptions.md\":\"ef580155\",\"api_interfaces_routerscrollbehavior.md\":\"ccb3d016\",\"api_interfaces_routerviewprops.md\":\"ba8b22d1\",\"guide_advanced_composition-api.md\":\"e3fd6ff0\",\"guide_advanced_data-fetching.md\":\"219e2941\",\"guide_advanced_dynamic-routing.md\":\"5291d707\",\"guide_advanced_extending-router-link.md\":\"80bcc5d4\",\"guide_advanced_lazy-loading.md\":\"ba1ba601\",\"guide_advanced_meta.md\":\"0103f580\",\"guide_advanced_navigation-failures.md\":\"88fe2254\",\"guide_advanced_navigation-guards.md\":\"3f30fb95\",\"guide_advanced_scroll-behavior.md\":\"8768f045\",\"guide_advanced_transitions.md\":\"62d11aa9\",\"guide_advanced_typed-routes.md\":\"f0caab70\",\"guide_essentials_dynamic-matching.md\":\"67e12fcf\",\"guide_essentials_history-mode.md\":\"c4f2cdd5\",\"guide_essentials_named-routes.md\":\"90ba0821\",\"guide_essentials_named-views.md\":\"5720f704\",\"guide_essentials_navigation.md\":\"65768695\",\"guide_essentials_nested-routes.md\":\"88bc3f27\",\"guide_essentials_passing-props.md\":\"6629f389\",\"guide_essentials_redirect-and-alias.md\":\"a055e933\",\"guide_essentials_route-matching-syntax.md\":\"5904e07d\",\"guide_index.md\":\"3b4fdbd8\",\"guide_migration_index.md\":\"581d094f\",\"index.md\":\"85880dda\",\"installation.md\":\"510fc434\",\"introduction.md\":\"a0f82ce6\",\"zh_api_index.md\":\"97642d35\",\"zh_guide_advanced_composition-api.md\":\"2f3f6b67\",\"zh_guide_advanced_data-fetching.md\":\"df9fc3b3\",\"zh_guide_advanced_dynamic-routing.md\":\"13097fc4\",\"zh_guide_advanced_extending-router-link.md\":\"184966df\",\"zh_guide_advanced_lazy-loading.md\":\"eb320bf9\",\"zh_guide_advanced_meta.md\":\"ea3f2834\",\"zh_guide_advanced_navigation-failures.md\":\"0e6b16fa\",\"zh_guide_advanced_navigation-guards.md\":\"15250914\",\"zh_guide_advanced_scroll-behavior.md\":\"ced6f3bb\",\"zh_guide_advanced_transitions.md\":\"bc0ff3ef\",\"zh_guide_essentials_dynamic-matching.md\":\"06a189d7\",\"zh_guide_essentials_history-mode.md\":\"99368ef1\",\"zh_guide_essentials_named-routes.md\":\"2902dae6\",\"zh_guide_essentials_named-views.md\":\"7732b9c4\",\"zh_guide_essentials_navigation.md\":\"13fe4114\",\"zh_guide_essentials_nested-routes.md\":\"d008c434\",\"zh_guide_essentials_passing-props.md\":\"07322115\",\"zh_guide_essentials_redirect-and-alias.md\":\"95ab1c15\",\"zh_guide_essentials_route-matching-syntax.md\":\"93493c08\",\"zh_guide_index.md\":\"4e813e97\",\"zh_guide_migration_index.md\":\"2a999dd8\",\"zh_index.md\":\"de885284\",\"zh_installation.md\":\"848426e7\",\"zh_introduction.md\":\"ce39bbba\"}")</script>
    <script type="module" async src="/assets/app.5140d3ee.js"></script>
    
  </body>
</html>